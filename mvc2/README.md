# μ¤ν”„λ§ MVC 1νΈ - λ°±μ—”λ“ μ›Ή κ°λ° ν•µμ‹¬ κΈ°μ 

## 7. μ¤ν”„λ§ MVC - κΈ°λ³Έ κΈ°λ¥

### 45. ν”„λ΅μ νΈ μƒμ„±

- Packagingλ” Warκ°€ μ•„λ‹λΌ Jarλ¥Ό μ„ νƒν•΄μ£Όμ„Έμ”. JSPλ¥Ό μ‚¬μ©ν•μ§€ μ•κΈ° λ•λ¬Έμ— Jarλ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.

  - μ•μΌλ΅ μ¤ν”„λ§ λ¶€νΈλ¥Ό μ‚¬μ©ν•λ©΄ μ΄ λ°©μ‹μ„ μ£Όλ΅ μ‚¬μ©ν•κ² λ©λ‹λ‹¤.
  - Jarλ¥Ό μ‚¬μ©ν•λ©΄ ν•­μƒ λ‚΄μ¥ μ„λ²„(ν†°μΊ£λ“±)λ¥Ό μ‚¬μ©ν•κ³ , webapp κ²½λ΅λ„ μ‚¬μ©ν•μ§€ μ•μµλ‹λ‹¤.
  - λ‚΄μ¥ μ„λ²„ μ‚¬μ©μ— μµμ ν™” λμ–΄ μλ” κΈ°λ¥μ…λ‹λ‹¤.
  - Warλ¥Ό μ‚¬μ©ν•λ©΄ λ‚΄μ¥ μ„λ²„λ„ μ‚¬μ©κ°€λ¥ ν•μ§€λ§, μ£Όλ΅ μ™Έλ¶€ μ„λ²„μ— λ°°ν¬ν•λ” λ©μ μΌλ΅ μ‚¬μ©ν•©λ‹λ‹¤.

- Warλ” ν†°μΊ£μ„ λ³„λ„λ΅ μ„¤μΉν•  λ•, JSPλ¥Ό μ‚¬μ©ν•  λ• μ‚¬μ©

- μ¤ν”„λ§ λ¶€νΈμ— Jarλ¥Ό μ‚¬μ©ν•λ©΄ /resources/static/ μ„μΉμ— index.html νμΌμ„ λ‘λ©΄ Welcome νμ΄μ§€λ΅ μ²λ¦¬ν•΄μ¤€λ‹¤.
  - μ¤ν”„λ§ λ¶€νΈκ°€ μ§€μ›ν•λ” μ •μ  μ»¨ν…μΈ  μ„μΉμ— /index.html μ΄ μμΌλ©΄ λλ‹¤.

### 46. λ΅κΉ… κ°„λ‹¨ν μ•μ•„λ³΄κΈ°

- μ¤ν”„λ§ λ¶€νΈ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•λ©΄ μ¤ν”„λ§ λ¶€νΈ λ΅κΉ… λΌμ΄λΈλ¬λ¦¬(`spring-boot-starter-logging`)κ°€ ν•¨κ» ν¬ν•¨λλ‹¤.
  - SLF4J - http://www.slf4j.org
  - Logback - http://logback.qos.ch
- λ΅κ·Έ λΌμ΄λΈλ¬λ¦¬λ” `Logback`, `Log4J`, `Log4J2` λ“±λ“± μ λ§μ€ λΌμ΄λΈλ¬λ¦¬κ°€ μλ”λ°, κ·Έκ²ƒμ„ ν†µν•©ν•΄μ„ μΈν„°νμ΄μ¤λ΅ μ κ³µν•λ” κ²ƒμ΄ λ°”λ΅ `SLF4J` λΌμ΄λΈλ¬λ¦¬λ‹¤.
- **`SLF4J`λ” μΈν„°νμ΄μ¤μ΄κ³ , κ·Έ κµ¬ν„μ²΄λ΅ `Logback` κ°™μ€ λ΅κ·Έ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ„ νƒν•λ©΄ λλ‹¤.**
- μ‹¤λ¬΄μ—μ„λ” μ¤ν”„λ§ λ¶€νΈκ°€ κΈ°λ³ΈμΌλ΅ μ κ³µν•λ” Logbackμ„ λ€λ¶€λ¶„ μ‚¬μ©ν•λ‹¤.

- `@RestController`

  - `@Controller` λ” λ°ν™ κ°’μ΄ String μ΄λ©΄ λ·° μ΄λ¦„μΌλ΅ μΈμ‹λλ‹¤.
  - κ·Έλμ„ λ·°λ¥Ό μ°Ύκ³  λ·°κ°€ λλ”λ§ λλ‹¤.
  - `@RestController` λ” λ°ν™ κ°’μΌλ΅ λ·°λ¥Ό μ°Ύλ” κ²ƒμ΄ μ•„λ‹λΌ, HTTP λ©”μ‹μ§€ λ°”λ””μ— λ°”λ΅ μ…λ ¥ν•λ‹¤.

- 1οΈβƒ£ `TRACE`: κ°€μ¥ μƒμ„Έν• λ΅κ·Έ. κ°λ° μ‹ λ””λ²„κΉ… μ©λ„λ΅ μ‚¬μ©.
- 2οΈβƒ£ `DEBUG`: λ””λ²„κ·Έμ© λ΅κ·Έ. λ΅μ§ νλ¦„μ΄λ‚ λ³€μ μƒνƒ ν™•μΈμ©.
- 3οΈβƒ£ `INFO`: μ •λ³΄μ„± λ΅κ·Έ. μ •μƒ λ™μ‘ μ¤‘μ μ£Όμ” μ΄λ²¤νΈ κΈ°λ΅.
- 4οΈβƒ£ `WARN`: κ²½κ³ . λ¬Έμ λ” μ—†μ§€λ§ μ£Όμκ°€ ν•„μ”ν• μƒν™©.
- 5οΈβƒ£ `ERROR`: μ—λ¬ λ°μƒ. κΈ°λ¥μ€ μ‹¤ν¨ν–μ§€λ§ μ‹μ¤ν…μ€ μ‚΄μ•„μμ.

- μ¬λ°”λ¥Έ λ΅κ·Έ μ‚¬μ©λ²•

  - log.debug("data="+data)
    - λ΅κ·Έ μ¶λ ¥ λ λ²¨μ„ infoλ΅ μ„¤μ •ν•΄λ„ ν•΄λ‹Ή μ½”λ“μ— μλ” "data="+dataκ°€ μ‹¤μ  μ‹¤ν–‰μ΄ λμ–΄ λ²„λ¦°λ‹¤.
    - **κ²°κ³Όμ μΌλ΅ λ¬Έμ λ”ν•κΈ° μ—°μ‚°μ΄ λ°μƒν•λ‹¤.**
  - log.debug("data={}", data)
    - λ΅κ·Έ μ¶λ ¥ λ λ²¨μ„ infoλ΅ μ„¤μ •ν•λ©΄ μ•„λ¬΄μΌλ„ λ°μƒν•μ§€ μ•λ”λ‹¤. λ”°λΌμ„ μ•κ³Ό κ°™μ€ μλ―Έμ—†λ” μ—°μ‚°μ΄ λ°μƒν•μ§€ μ•λ”λ‹¤.

- `@Slf4j == private final Logger log = LoggerFactory.getLogger(getClass())`

- λ΅κ·Έ μ‚¬μ©μ‹ μ¥μ 
  - μ“°λ λ“ μ •λ³΄, ν΄λμ¤ μ΄λ¦„ κ°™μ€ λ¶€κ°€ μ •λ³΄λ¥Ό ν•¨κ» λ³Ό μ μκ³ , μ¶λ ¥ λ¨μ–‘μ„ μ΅°μ •ν•  μ μλ‹¤.
  - λ΅κ·Έ λ λ²¨μ— λ”°λΌ κ°λ° μ„λ²„μ—μ„λ” λ¨λ“  λ΅κ·Έλ¥Ό μ¶λ ¥ν•κ³ , μ΄μμ„λ²„μ—μ„λ” μ¶λ ¥ν•μ§€ μ•λ” λ“± λ΅κ·Έλ¥Ό μƒν™©μ— λ§κ² μ΅°μ ν•  μ μλ‹¤.
  - μ‹μ¤ν… μ•„μ›ƒ μ½μ†”μ—λ§ μ¶λ ¥ν•λ” κ²ƒμ΄ μ•„λ‹λΌ, νμΌμ΄λ‚ λ„¤νΈμ›ν¬ λ“±, λ΅κ·Έλ¥Ό λ³„λ„μ μ„μΉμ— λ‚¨κΈΈ μ μλ‹¤. νΉν νμΌλ΅ λ‚¨κΈΈ λ•λ” μΌλ³„, νΉμ • μ©λ‰μ— λ”°λΌ λ΅κ·Έλ¥Ό λ¶„ν• ν•λ” κ²ƒλ„ κ°€λ¥ν•λ‹¤.
  - μ„±λ¥λ„ μΌλ° System.outλ³΄λ‹¤ μΆ‹λ‹¤. (λ‚΄λ¶€ λ²„νΌλ§, λ©€ν‹° μ“°λ λ“ λ“±λ“±)
- κ·Έλμ„ μ‹¤λ¬΄μ—μ„λ” κΌ­ λ΅κ·Έλ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.

### 47. μ”μ²­ λ§¤ν•‘

- [MappingController](./src/main/java/com/spring/mvc/basic/requestmapping/MappingController.java)
  - μ •λ§ λ‹¤μ–‘ν• λ§¤ν•‘ λ°©μ‹μ΄ μλ‹¤.
  - PathVariable μ΄ν›„λ΅λ” μ²μ λ΄„...

### 48. μ”μ²­ λ§¤ν•‘ - API μμ‹

- [MappingClassController](./src/main/java/com/spring/mvc/basic/requestmapping/MappingClassController.java)
- λ§¤ν•‘ μ—°μµ

### 49. HTTP μ”μ²­ - κΈ°λ³Έ, ν—¤λ” μ΅°ν

- HttpServletRequest
- HttpServletResponse
- HttpMethod: HTTP λ©”μ„λ“λ¥Ό μ΅°νν•λ‹¤. org.springframework.http.HttpMethod
- Locale : Locale μ •λ³΄λ¥Ό μ΅°νν•λ‹¤.
- @RequestHeader MultiValueMap<String, String> headerMap
  - λ¨λ“  HTTP ν—¤λ”λ¥Ό MultiValueMap ν•μ‹μΌλ΅ μ΅°νν•λ‹¤.
- @RequestHeader("host") String host
  - νΉμ • HTTP ν—¤λ”λ¥Ό μ΅°νν•λ‹¤.
  - ν•„μ κ°’ μ—¬λ¶€: required
  - κΈ°λ³Έ κ°’ μ†μ„±: defaultValue
- @CookieValue(value = "myCookie", required = false) String cookie
  - νΉμ • μΏ ν‚¤λ¥Ό μ΅°νν•λ‹¤.
  - ν•„μ κ°’ μ—¬λ¶€: required
  - κΈ°λ³Έ κ°’: defaultValue
- MultiValueMap

  - MAPκ³Ό μ μ‚¬ν•λ°, ν•λ‚μ ν‚¤μ— μ—¬λ¬ κ°’μ„ λ°›μ„ μ μλ‹¤.
  - HTTP header, HTTP μΏΌλ¦¬ νλΌλ―Έν„°μ™€ κ°™μ΄ ν•λ‚μ ν‚¤μ— μ—¬λ¬ κ°’μ„ λ°›μ„ λ• μ‚¬μ©ν•λ‹¤.
  - keyA=value1&keyA=value2

- @Controller μ μ‚¬μ© κ°€λ¥ν• νλΌλ―Έν„° λ©λ΅μ€ λ‹¤μ κ³µμ‹ λ©”λ‰΄μ–Όμ—μ„ ν™•μΈν•  μ μλ‹¤.
  - https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments
- @Controller μ μ‚¬μ© κ°€λ¥ν• μ‘λ‹µ κ°’ λ©λ΅μ€ λ‹¤μ κ³µμ‹ λ©”λ‰΄μ–Όμ—μ„ ν™•μΈν•  μ μλ‹¤.
  - https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-return-types

### 50. HTTP μ”μ²­ νλΌλ―Έν„° - μΏΌλ¦¬ νλΌλ―Έν„°, HTML Form

- **ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ μ”μ²­ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  λ•λ” μ£Όλ΅ λ‹¤μ 3κ°€μ§€ λ°©λ²•μ„ μ‚¬μ©ν•λ‹¤.**
- GET - μΏΌλ¦¬ νλΌλ―Έν„°
  - /url**?username=hello&age=20**
  - λ©”μ‹μ§€ λ°”λ”” μ—†μ΄, URLμ μΏΌλ¦¬ νλΌλ―Έν„°μ— λ°μ΄ν„°λ¥Ό ν¬ν•¨ν•΄μ„ μ „λ‹¬
  - μ) κ²€μƒ‰, ν•„ν„°, νμ΄μ§•λ“±μ—μ„ λ§μ΄ μ‚¬μ©ν•λ” λ°©μ‹
- POST - HTML Form
  - content-type: application/x-www-form-urlencoded
  - λ©”μ‹μ§€ λ°”λ””μ— μΏΌλ¦¬ νλ¦¬λ―Έν„° ν•μ‹μΌλ΅ μ „λ‹¬ username=hello&age=20
  - μ) νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, HTML Form μ‚¬μ©
- HTTP message bodyμ— λ°μ΄ν„°λ¥Ό μ§μ ‘ λ‹΄μ•„μ„ μ”μ²­

  - HTTP APIμ—μ„ μ£Όλ΅ μ‚¬μ©, JSON, XML, TEXT
  - λ°μ΄ν„° ν•μ‹μ€ μ£Όλ΅ JSON μ‚¬μ©

- μ”μ²­ νλΌλ―Έν„° - μΏΌλ¦¬ νλΌλ―Έν„°, HTML Form
  - HttpServletRequest μ request.getParameter() λ¥Ό μ‚¬μ©ν•λ©΄ λ‹¤μ λ‘κ°€μ§€ μ”μ²­ νλΌλ―Έν„°λ¥Ό μ΅°νν•  μ μλ‹¤.
  - μ΄κ²ƒμ„ κ°„λ‹¨ν μ”μ²­ νλΌλ―Έν„°(request parameter) μ΅°νλΌ ν•λ‹¤.
  - μ§€κΈλ¶€ν„° μ¤ν”„λ§μΌλ΅ μ”μ²­ νλΌλ―Έν„°λ¥Ό μ΅°νν•λ” λ°©λ²•μ„ λ‹¨κ³„μ μΌλ΅ μ•μ•„λ³΄μ.
  - [RequestParamController](./src/main/java/com/spring/mvc/basic/request/RequestParamController.java)

### 51. HTTP μ”μ²­ νλΌλ―Έν„° - @RequestParam

- String , int , Integer λ“±μ λ‹¨μ νƒ€μ…μ΄λ©΄ `@RequestParam`λ„ μƒλµ κ°€λ¥

  - μ΄λ ‡κ² μ• λ…Έν…μ΄μ…μ„ μ™„μ „ν μƒλµν•΄λ„ λλ”λ°, λ„λ¬΄ μ—†λ” κ²ƒλ„ μ•½κ°„ κ³Όν•λ‹¤λ” μ£Όκ΄€μ  μƒκ°μ΄ μλ‹¤.
  - `@RequestParam` μ΄ μμΌλ©΄ λ…ν™•ν•κ² μ”μ²­ νλ¦¬λ―Έν„°μ—μ„ λ°μ΄ν„°λ¥Ό μ½λ” λ‹¤λ” κ²ƒμ„ μ• μ μλ‹¤.

- μ£Όμ! - νλΌλ―Έν„° μ΄λ¦„λ§ μ‚¬μ©

  - /request-param-required?username=
  - νλΌλ―Έν„° μ΄λ¦„λ§ μκ³  κ°’μ΄ μ—†λ” κ²½μ° λΉλ¬Έμλ΅ ν†µκ³Ό

- μ£Όμ! - κΈ°λ³Έν•(primitive)μ— `null` μ…λ ¥

  - /request-param μ”μ²­
  - `@RequestParam`(required = false) int age
  - `null` μ„ `int` μ— μ…λ ¥ν•λ” κ²ƒμ€ λ¶κ°€λ¥(500 μμ™Έ λ°μƒ)
  - λ”°λΌμ„ `null` μ„ λ°›μ„ μ μλ” `Integer` λ΅ λ³€κ²½ν•κ±°λ‚, λλ” λ‹¤μμ— λ‚μ¤λ” `defaultValue`μ‚¬μ©

- νλΌλ―Έν„°λ¥Ό Map, MultiValueMapμΌλ΅ μ΅°νν•  μ μλ‹¤.
  - νλΌλ―Έν„°μ κ°’μ΄ 1κ°κ°€ ν™•μ‹¤ν•λ‹¤λ©΄ Map μ„ μ‚¬μ©ν•΄λ„ λμ§€λ§, κ·Έλ ‡μ§€ μ•λ‹¤λ©΄ MultiValueMap μ„ μ‚¬μ©ν•μ.

### 52. HTTP μ”μ²­ νλΌλ―Έν„° - @ModelAttribute

- μ‹¤μ  κ°λ°μ„ ν•λ©΄ μ”μ²­ νλΌλ―Έν„°λ¥Ό λ°›μ•„μ„ ν•„μ”ν• κ°μ²΄λ¥Ό λ§λ“¤κ³  κ·Έ κ°μ²΄μ— κ°’μ„ λ„£μ–΄μ£Όμ–΄μ•Ό ν•λ‹¤.
- μ¤ν”„λ§μ€ μ΄ κ³Όμ •μ„ μ™„μ „ν μλ™ν™”ν•΄μ£Όλ” `@ModelAttribute` κΈ°λ¥μ„ μ κ³µν•λ‹¤.

- `@ModelAttribute` λ” μƒλµν•  μ μλ‹¤.
  - `@RequestParam`λ„ μƒλµν•  μ μμΌλ‹ νΌλ€μ΄ λ°μƒν•  μ μλ‹¤.
- μ¤ν”„λ§μ€ ν•΄λ‹Ή μƒλµμ‹ λ‹¤μκ³Ό κ°™μ€ κ·μΉ™μ„ μ μ©ν•λ‹¤.
  - String , int , Integer κ°™μ€ λ‹¨μ νƒ€μ… = `@RequestParam`
  - λ‚λ¨Έμ§€ = `@ModelAttribute` (argument resolver λ΅ μ§€μ •ν•΄λ‘” νƒ€μ… μ™Έ)

#### λ¨λΈ μ–΄νΈλ¦¬λ·°νΈ λ°©μ‹μ΄ μ–΄λ–»κ² κ°€λ¥ν•μ§€

- μ¤ν”„λ§μ€ μλ°”λΉ(JavaBeans) λ…λ… κ·μΉ™μ„ μ‚¬μ©ν•μ—¬ νλΌλ―Έν„° μ΄λ¦„μΌλ΅λ¶€ν„° νΈμ¶ν•  μ„Έν„°(setter) λ©”μ„λ“ μ΄λ¦„μ„ μ¶”λ΅ ν•΄λƒ…λ‹λ‹¤.
- @ModelAttributeκ°€ λ¶™μ€ κ°μ²΄μ— κ°’μ„ λ°”μΈλ”©ν•  λ•, μ¤ν”„λ§ λ‚΄λ¶€μ **DataBinder**λΌλ” λ¶€ν’μ΄ λ‹¤μκ³Ό κ°™μ€ μμ„λ΅ λ™μ‘ν•©λ‹λ‹¤.

1. κ°μ²΄ μƒμ„±: λ¨Όμ €, νλΌλ―Έν„°λ΅ μ„ μ–Έλ κ°μ²΄(μ: new UserDto())μ μΈμ¤ν„΄μ¤λ¥Ό κΈ°λ³Έ μƒμ„±μλ΅ λ§λ“­λ‹λ‹¤.
2. νλΌλ―Έν„° μ΄λ¦„ λ³€ν™ λ° μ„Έν„° μ¶”λ΅  (ν•µμ‹¬)
   1. HTTP μ”μ²­μΌλ΅ λ“¤μ–΄μ¨ νλΌλ―Έν„° μ΄λ¦„(μ: user_name)μ„ κ°€μ Έμµλ‹λ‹¤.
   2. μ΄ μ΄λ¦„μ„ μλ°”μ μΉ΄λ© μΌ€μ΄μ¤(camelCase) ν•„λ“λ…(userName)μΌλ΅ λ³€ν™ν•©λ‹λ‹¤.
   3. μλ°”λΉ λ…λ… κ·μΉ™μ— λ”°λΌ, userName ν•„λ“μ— κ°’μ„ μ„¤μ •ν•λ” μ„Έν„° λ©”μ„λ“μ μ΄λ¦„μ€ **setUserName**μΌ κ²ƒμ΄λΌκ³  μ¶”λ΅ ν•©λ‹λ‹¤. (μ²« κΈ€μλ¥Ό λ€λ¬Έμλ΅ λ°”κΎΈκ³  μ•μ— 'set'μ„ λ¶™μ„)
3. λ¦¬ν”λ ‰μ…μ„ μ΄μ©ν• λ©”μ„λ“ νΈμ¶
   1. Javaμ λ¦¬ν”λ ‰μ… APIλ¥Ό μ‚¬μ©ν•΄ UserDto ν΄λμ¤μ— setUserName(String name)μ΄λΌλ” μ΄λ¦„κ³Ό μ‹κ·Έλ‹μ²λ¥Ό κ°€μ§„ λ©”μ„λ“κ°€ μ‹¤μ λ΅ μ΅΄μ¬ν•λ”μ§€ μ°Ύμµλ‹λ‹¤.
   2. λ©”μ„λ“λ¥Ό μ°ΎμΌλ©΄, λ¦¬ν”λ ‰μ…μ„ ν†µν•΄ ν•΄λ‹Ή λ©”μ„λ“λ¥Ό νΈμ¶ν•λ©΄μ„ HTTP μ”μ²­ νλΌλ―Έν„°μ κ°’μ„ μ „λ‹¬ν•©λ‹λ‹¤. (method.invoke(userDto, "kim"))

- μ”μ²­ νλΌλ―Έν„°: item_price=1000
- μ¤ν”„λ§μ μ¶”λ΅  κ³Όμ •:
  - item_price β†’ itemPrice (μΉ΄λ© μΌ€μ΄μ¤ λ³€ν™)
  - itemPrice β†’ setItemPrice (μ„Έν„° λ©”μ„λ“ μ΄λ¦„ μ¶”λ΅ )
  - λ¦¬ν”λ ‰μ…μΌλ΅ setItemPrice(int price) λ©”μ„λ“λ¥Ό μ°Ύμ•„μ„ νΈμ¶

κ²°λ΅ μ μΌλ΅, μ¤ν”„λ§μ€ λ¨λ“  κ²½μ°μ μλ¥Ό λ―Έλ¦¬ λ“±λ΅ν•΄λ‘λ” κ²ƒμ΄ μ•„λ‹λΌ, 'νλΌλ―Έν„° μ΄λ¦„ β†’ μΉ΄λ© μΌ€μ΄μ¤ ν•„λ“λ… β†’ set + ν•„λ“λ…' μ΄λΌλ” μ •ν•΄μ§„ κ·μΉ™μ— λ”°λΌ λ™μ μΌλ΅ λ©”μ„λ“ μ΄λ¦„μ„ λ§λ“¤μ–΄λ‚΄κ³ , λ¦¬ν”λ ‰μ…μ„ ν†µν•΄ ν•΄λ‹Ή λ©”μ„λ“λ¥Ό μ°Ύμ•„ μ‹¤ν–‰ν•λ” κ²ƒμ…λ‹λ‹¤. μ΄ λ•λ¶„μ— λ‹¤μ–‘ν• ν•μ‹μ νλΌλ―Έν„° μ΄λ¦„μ„ μ μ—°ν•κ² μ²λ¦¬ν•  μ μμµλ‹λ‹¤.

### 53. HTTP μ”μ²­ λ©”μ‹μ§€ - λ‹¨μ ν…μ¤νΈ

- [RequestBodyStringController](./src/main/java/com/spring/mvc/basic/request/RequestBodyStringController.java)

- **μ”μ²­ νλΌλ―Έν„°μ™€ λ‹¤λ¥΄κ², HTTP λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν•΄ λ°μ΄ν„°κ°€ μ§μ ‘ λ„μ–΄μ¤λ” κ²½μ°λ” `@RequestParam`, `@ModelAttribute`λ¥Ό μ‚¬μ©ν•  μ μ—†λ‹¤.**

  - λ¬Όλ΅  HTML Form ν•μ‹μΌλ΅ μ „λ‹¬λλ” κ²½μ°λ” μ”μ²­ νλΌλ―Έν„°λ΅ μΈμ •λλ‹¤.

- λ¨Όμ € κ°€μ¥ λ‹¨μν• ν…μ¤νΈ λ©”μ‹μ§€λ¥Ό HTTP λ©”μ‹μ§€ λ°”λ””μ— λ‹΄μ•„μ„ μ „μ†΅ν•κ³ , μ½μ–΄λ³΄μ.
- HTTP λ©”μ‹μ§€ λ°”λ””μ λ°μ΄ν„°λ¥Ό `InputStream`μ„ μ‚¬μ©ν•΄μ„ μ§μ ‘ μ½μ„ μ μλ‹¤.

  - InputStream(Reader): HTTP μ”μ²­ λ©”μ‹μ§€ λ°”λ””μ λ‚΄μ©μ„ μ§μ ‘ μ΅°ν
  - OutputStream(Writer): HTTP μ‘λ‹µ λ©”μ‹μ§€μ λ°”λ””μ— μ§μ ‘ κ²°κ³Ό μ¶λ ¥

- `HttpEntity`: HTTP header, body μ •λ³΄λ¥Ό νΈλ¦¬ν•κ² μ΅°ν

  - λ©”μ‹μ§€ λ°”λ”” μ •λ³΄λ¥Ό μ§μ ‘ μ΅°ν
  - μ”μ²­ νλΌλ―Έν„°λ¥Ό μ΅°νν•λ” κΈ°λ¥κ³Ό κ΄€κ³„ μ—†μ @RequestParam X, @ModelAttribute X
  - `HttpEntity`λ” μ‘λ‹µμ—λ„ μ‚¬μ© κ°€λ¥
  - λ©”μ‹μ§€ λ°”λ”” μ •λ³΄ μ§μ ‘ λ°ν™
  - ν—¤λ” μ •λ³΄ ν¬ν•¨ κ°€λ¥
  - `HttpEntity` λ¥Ό μƒμ†λ°›μ€ λ‹¤μ κ°μ²΄λ“¤λ„ κ°™μ€ κΈ°λ¥μ„ μ κ³µν•λ‹¤.
    - RequestEntity - HttpMethod, url μ •λ³΄κ°€ μ¶”κ°€, μ”μ²­μ—μ„ μ‚¬μ©
    - ResponseEntity - HTTP μƒνƒ μ½”λ“ μ„¤μ • κ°€λ¥, μ‘λ‹µμ—μ„ μ‚¬μ©
      - `return new ResponseEntity<String>("Hello World", responseHeaders, HttpStatus.CREATED)`

- μ¤ν”„λ§MVC λ‚΄λ¶€μ—μ„ HTTP λ©”μ‹μ§€ λ°”λ””λ¥Ό μ½μ–΄μ„ λ¬Έμλ‚ κ°μ²΄λ΅ λ³€ν™ν•΄μ„ μ „λ‹¬ν•΄μ£Όλ”λ°, μ΄λ• HTTP λ©”μ‹μ§€μ»¨λ²„ν„°(HttpMessageConverter)λΌλ” κΈ°λ¥μ„ μ‚¬μ©ν•λ‹¤.

#### `@RequestBody`

- `@RequestBody` λ¥Ό μ‚¬μ©ν•λ©΄ HTTP λ©”μ‹μ§€ λ°”λ”” μ •λ³΄λ¥Ό νΈλ¦¬ν•κ² μ΅°νν•  μ μλ‹¤.
- μ°Έκ³ λ΅ ν—¤λ” μ •λ³΄κ°€ ν•„μ”ν•λ‹¤λ©΄ `HttpEntity` λ¥Ό μ‚¬μ©ν•κ±°λ‚ `@RequestHeader`λ¥Ό μ‚¬μ©ν•λ©΄ λλ‹¤.

μ”μ²­ νλΌλ―Έν„° vs HTTP λ©”μ‹μ§€ λ°”λ””

- μ”μ²­ νλΌλ―Έν„°λ¥Ό μ΅°νν•λ” κΈ°λ¥: `@RequestParam`, `@ModelAttribute`
- HTTP λ©”μ‹μ§€ λ°”λ””λ¥Ό μ§μ ‘ μ΅°νν•λ” κΈ°λ¥: `@RequestBody`

- `@ResponseBody`
  - `@ResponseBody`λ¥Ό μ‚¬μ©ν•λ©΄ μ‘λ‹µ κ²°κ³Όλ¥Ό HTTP λ©”μ‹μ§€ λ°”λ””μ— μ§μ ‘ λ‹΄μ•„μ„ μ „λ‹¬ν•  μ μλ‹¤.
  - λ¬Όλ΅  μ΄ κ²½μ°μ—λ„ viewλ¥Ό μ‚¬μ©ν•μ§€ μ•λ”λ‹¤.

### 54. HTTP μ”μ²­ λ©”μ‹μ§€ - JSON

- `HttpServletRequest`λ¥Ό μ‚¬μ©ν•΄μ„ μ§μ ‘ HTTP λ©”μ‹μ§€ λ°”λ””μ—μ„ λ°μ΄ν„°λ¥Ό μ½μ–΄μ™€μ„, λ¬Έμλ΅ λ³€ν™ν•λ‹¤.
- λ¬Έμλ΅ λ JSON λ°μ΄ν„°λ¥Ό Jackson λΌμ΄λΈλ¬λ¦¬μΈ `objectMapper` λ¥Ό μ‚¬μ©ν•΄μ„ μλ°” κ°μ²΄λ΅ λ³€ν™ν•λ‹¤.
- λ¬Έμλ΅ λ JSON λ°μ΄ν„°μΈ `messageBody` λ¥Ό `objectMapper` λ¥Ό ν†µν•΄μ„ μλ°” κ°μ²΄λ΅ λ³€ν™ν•λ‹¤.

- `@RequestBody` κ°μ²΄ νλΌλ―Έν„°
  - `@RequestBody` μ— μ§μ ‘ λ§λ“  κ°μ²΄λ¥Ό μ§€μ •ν•  μ μλ‹¤.
- HttpEntity , @RequestBody λ¥Ό μ‚¬μ©ν•λ©΄ HTTP λ©”μ‹μ§€ μ»¨λ²„ν„°κ°€ HTTP λ©”μ‹μ§€ λ°”λ””μ λ‚΄μ©μ„ μ°λ¦¬κ°€ μ›ν•λ” λ¬Έμλ‚ κ°μ²΄ λ“±μΌλ΅ λ³€ν™ν•΄μ¤€λ‹¤.
- @RequestBodyλ” μƒλµ λ¶κ°€λ¥

  - **μƒλµν•λ©΄ HTTP λ©”μ‹μ§€ λ°”λ””κ°€ μ•„λ‹λΌ μ”μ²­ νλΌλ―Έν„°λ¥Ό μ²λ¦¬ν•κ² λλ‹¤.**
  - μ¤ν”„λ§μ€ `@ModelAttribute` , `@RequestParam`κ³Ό κ°™μ€ ν•΄λ‹Ή μ• λ…Έν…μ΄μ…μ„ μƒλµμ‹ λ‹¤μκ³Ό κ°™μ€ κ·μΉ™μ„ μ μ©ν•λ‹¤.
  - String , int , Integer κ°™μ€ λ‹¨μ νƒ€μ… = @RequestParam
  - λ‚λ¨Έμ§€ = @ModelAttribute (argument resolver λ΅ μ§€μ •ν•΄λ‘” νƒ€μ… μ™Έ)
  - **λ”°λΌμ„ μ΄ κ²½μ° HelloDataμ— `@RequestBody`λ¥Ό μƒλµν•λ©΄ `@ModelAttribute`κ°€ μ μ©λμ–΄λ²„λ¦°λ‹¤.**

- `@ResponseBody`
  - μ‘λ‹µμ κ²½μ°μ—λ„ `@ResponseBody`λ¥Ό μ‚¬μ©ν•λ©΄ ν•΄λ‹Ή κ°μ²΄λ¥Ό HTTP λ©”μ‹μ§€ λ°”λ””μ— μ§μ ‘ λ„£μ–΄μ¤„ μ μλ‹¤.
  - λ¬Όλ΅  μ΄ κ²½μ°μ—λ„ `HttpEntity`λ¥Ό μ‚¬μ©ν•΄λ„ λλ‹¤.
- @RequestBody μ”μ²­
  - JSON μ”μ²­ HTTP λ©”μ‹μ§€ μ»¨λ²„ν„° κ°μ²΄
- @ResponseBody μ‘λ‹µ
  - κ°μ²΄ HTTP λ©”μ‹μ§€ μ»¨λ²„ν„° JSON μ‘λ‹µ

### 55. μ‘λ‹µ - μ •μ  λ¦¬μ†μ¤, λ·° ν…ν”λ¦Ώ

- [ResponseViewController](./src/main/java/com/spring/mvc/basic/response/ResponseViewController.java)
- μ¤ν”„λ§(μ„λ²„)μ—μ„ μ‘λ‹µ λ°μ΄ν„°λ¥Ό λ§λ“λ” λ°©λ²•μ€ ν¬κ² 3κ°€μ§€μ΄λ‹¤.
  - μ •μ  λ¦¬μ†μ¤
    - μ) μ›Ή λΈλΌμ°μ €μ— μ •μ μΈ HTML, css, jsλ¥Ό μ κ³µν•  λ•λ”, μ •μ  λ¦¬μ†μ¤λ¥Ό μ‚¬μ©ν•λ‹¤.
  - λ·° ν…ν”λ¦Ώ μ‚¬μ©
    - μ) μ›Ή λΈλΌμ°μ €μ— λ™μ μΈ HTMLμ„ μ κ³µν•  λ•λ” λ·° ν…ν”λ¦Ώμ„ μ‚¬μ©ν•λ‹¤.
  - HTTP λ©”μ‹μ§€ μ‚¬μ©
    - HTTP APIλ¥Ό μ κ³µν•λ” κ²½μ°μ—λ” HTMLμ΄ μ•„λ‹λΌ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•΄μ•Ό ν•λ―€λ΅, HTTP λ©”μ‹μ§€ λ°”λ””μ—
    - JSON κ°™μ€ ν•μ‹μΌλ΅ λ°μ΄ν„°λ¥Ό μ‹¤μ–΄ λ³΄λ‚Έλ‹¤.

#### μ •μ  λ¦¬μ†μ¤

- μ¤ν”„λ§ λ¶€νΈλ” ν΄λμ¤ν¨μ¤μ λ‹¤μ λ””λ ‰ν† λ¦¬μ— μλ” μ •μ  λ¦¬μ†μ¤λ¥Ό μ κ³µν•λ‹¤.
- /static , /public , /resources , /META-INF/resources
- `src/main/resources`λ” λ¦¬μ†μ¤λ¥Ό λ³΄κ΄€ν•λ” κ³³μ΄κ³ , λ ν΄λμ¤ν¨μ¤μ μ‹μ‘ κ²½λ΅μ΄λ‹¤.
- μ •μ  λ¦¬μ†μ¤λ” ν•΄λ‹Ή νμΌμ„ λ³€κ²½ μ—†μ΄ κ·Έλ€λ΅ μ„λΉ„μ¤ν•λ” κ²ƒμ΄λ‹¤.

#### λ·° ν…ν”λ¦Ώ κ²½λ΅

- src/main/resources/templates
- Stringμ„ λ°ν™ν•λ” κ²½μ° - View or HTTP λ©”μ‹μ§€
  - @ResponseBody κ°€ μ—†μΌλ©΄ response/hello λ΅ λ·° λ¦¬μ΅Έλ²„κ°€ μ‹¤ν–‰λμ–΄μ„ λ·°λ¥Ό μ°Ύκ³ , λ λ”λ§ ν•λ‹¤.
  - μ—¬κΈ°μ„λ” λ·°μ λ…Όλ¦¬ μ΄λ¦„μΈ response/hello λ¥Ό λ°ν™ν•λ©΄ λ‹¤μ κ²½λ΅μ λ·° ν…ν”λ¦Ώμ΄ λ λ”λ§ λλ” κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.
- Voidλ¥Ό λ°ν™ν•λ” κ²½μ°
  - @Controller λ¥Ό μ‚¬μ©ν•κ³ , HttpServletResponse , OutputStream(Writer) κ°™μ€ HTTP λ©”μ‹μ§€ λ°”λ””λ¥Ό μ²λ¦¬ν•λ” νλΌλ―Έν„°κ°€ μ—†μΌλ©΄ μ”μ²­ URLμ„ μ°Έκ³ ν•΄μ„ λ…Όλ¦¬ λ·° μ΄λ¦„μΌλ΅ μ‚¬μ©
  - μ°Έκ³ λ΅ μ΄ λ°©μ‹μ€ λ…μ‹μ„±μ΄ λ„λ¬΄ λ–¨μ–΄μ§€κ³  μ΄λ ‡κ² λ”± λ§λ” κ²½μ°λ„ λ§μ΄ μ—†μ–΄μ„, κ¶μ¥ν•μ§€ μ•λ”λ‹¤.

#### HTTP λ©”μ‹μ§€

- @ResponseBody , HttpEntity λ¥Ό μ‚¬μ©ν•λ©΄, λ·° ν…ν”λ¦Ώμ„ μ‚¬μ©ν•λ” κ²ƒμ΄ μ•„λ‹λΌ, HTTP λ©”μ‹μ§€ λ°”λ””μ— μ§μ ‘ μ‘λ‹µ λ°μ΄ν„°λ¥Ό μ¶λ ¥ν•  μ μλ‹¤.

### 56. HTTP μ‘λ‹µ - HTTP API, λ©”μ‹μ§€ λ°”λ””μ— μ§μ ‘ μ…λ ¥

- ResponseEntity μ—”ν‹°ν‹°λ” HttpEntity λ¥Ό μƒμ† λ°›μ•λ”λ°, HttpEntityλ” HTTP λ©”μ‹μ§€μ ν—¤λ”, λ°”λ”” μ •λ³΄λ¥Ό κ°€μ§€κ³  μλ‹¤.

  - ResponseEntity λ” μ—¬κΈ°μ— λ”ν•΄μ„ HTTP μ‘λ‹µ μ½”λ“λ¥Ό μ„¤μ •ν•  μ μλ‹¤.

- @ResponseBody λ¥Ό μ‚¬μ©ν•λ©΄ viewλ¥Ό μ‚¬μ©ν•μ§€ μ•κ³ , HTTP λ©”μ‹μ§€ μ»¨λ²„ν„°λ¥Ό ν†µν•΄μ„ HTTP λ©”μ‹μ§€λ¥Ό μ§μ ‘ μ…λ ¥ν• μ μλ‹¤.
  - ResponseEntity λ„ λ™μΌν• λ°©μ‹μΌλ΅ λ™μ‘ν•λ‹¤.
  - @ResponseStatus(HttpStatus.OK) μ• λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄ μ‘λ‹µ μ½”λ“λ„ μ„¤μ •ν•  μ μλ‹¤.

### 57. HTTP λ©”μ‹μ§€ μ»¨λ²„ν„°

- @ResponseBody λ¥Ό μ‚¬μ©

  - HTTPμ BODYμ— λ¬Έμ λ‚΄μ©μ„ μ§μ ‘ λ°ν™
  - viewResolver λ€μ‹ μ— HttpMessageConverter κ°€ λ™μ‘
  - κΈ°λ³Έ λ¬Έμμ²λ¦¬: StringHttpMessageConverter
  - κΈ°λ³Έ κ°μ²΄μ²λ¦¬: MappingJackson2HttpMessageConverter
  - byte μ²λ¦¬ λ“±λ“± κΈ°νƒ€ μ—¬λ¬ HttpMessageConverterκ°€ κΈ°λ³ΈμΌλ΅ λ“±λ΅λμ–΄ μμ
  - μ‘λ‹µμ κ²½μ° ν΄λΌμ΄μ–ΈνΈμ HTTP Accept ν•΄λ”μ™€ μ„λ²„μ μ»¨νΈλ΅¤λ¬ λ°ν™ νƒ€μ… μ •λ³΄ λ‘μ„ μ΅°ν•©ν•΄μ„ HttpMessageConverter κ°€ μ„ νƒλλ‹¤.

- μ¤ν”„λ§ MVCλ” λ‹¤μμ κ²½μ°μ— HTTP λ©”μ‹μ§€ μ»¨λ²„ν„°λ¥Ό μ μ©ν•λ‹¤.
  - HTTP μ”μ²­: @RequestBody , HttpEntity(RequestEntity)
  - HTTP μ‘λ‹µ: @ResponseBody , HttpEntity(ResponseEntity)
- μ¤ν”„λ§ λ¶€νΈλ” λ‹¤μ–‘ν• λ©”μ‹μ§€ μ»¨λ²„ν„°λ¥Ό μ κ³µν•λ”λ°, λ€μƒ ν΄λμ¤ νƒ€μ…κ³Ό λ―Έλ””μ–΄ νƒ€μ… λ‘μ„ μ²΄ν¬ν•΄μ„ μ‚¬μ©μ—¬λ¶€λ¥Ό κ²°μ •ν•λ‹¤. λ§μ•½ λ§μ΅±ν•μ§€ μ•μΌλ©΄ λ‹¤μ λ©”μ‹μ§€ μ»¨λ²„ν„°λ΅ μ°μ„ μμ„κ°€ λ„μ–΄κ°„λ‹¤.

- λ‡κ°€μ§€ μ£Όμ”ν• λ©”μ‹μ§€ μ»¨λ²„ν„°λ¥Ό μ•μ•„λ³΄μ.
- ByteArrayHttpMessageConverter : byte[] λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•λ‹¤.
  - ν΄λμ¤ νƒ€μ…: byte[] , λ―Έλ””μ–΄νƒ€μ…: _/_ ,
  - μ”μ²­ μ) @RequestBody byte[] data
  - μ‘λ‹µ μ) @ResponseBody return byte[] μ“°κΈ° λ―Έλ””μ–΄νƒ€μ… application/octet-stream
- StringHttpMessageConverter : String λ¬Έμλ΅ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•λ‹¤.
  - ν΄λμ¤ νƒ€μ…: String , λ―Έλ””μ–΄νƒ€μ…: _/_
  - μ”μ²­ μ) @RequestBody String data
  - μ‘λ‹µ μ) @ResponseBody return "ok" μ“°κΈ° λ―Έλ””μ–΄νƒ€μ… text/plain
- MappingJackson2HttpMessageConverter : application/json
  - ν΄λμ¤ νƒ€μ…: κ°μ²΄ λλ” HashMap , λ―Έλ””μ–΄νƒ€μ… application/json κ΄€λ ¨
  - μ”μ²­ μ) @RequestBody HelloData data
  - μ‘λ‹µ μ) @ResponseBody return helloData μ“°κΈ° λ―Έλ””μ–΄νƒ€μ… application/json κ΄€λ ¨

#### HTTP μ”μ²­ λ°μ΄ν„° μ½κΈ°

- HTTP μ”μ²­μ΄ μ¤κ³ , μ»¨νΈλ΅¤λ¬μ—μ„ @RequestBody , HttpEntity νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ‹¤.
- λ©”μ‹μ§€ μ»¨λ²„ν„°κ°€ λ©”μ‹μ§€λ¥Ό μ½μ„ μ μλ”μ§€ ν™•μΈν•κΈ° μ„ν•΄ canRead() λ¥Ό νΈμ¶ν•λ‹¤.
- λ€μƒ ν΄λμ¤ νƒ€μ…μ„ μ§€μ›ν•λ”κ°€.
  - μ) @RequestBody μ λ€μƒ ν΄λμ¤ ( byte[] , String , HelloData )
- HTTP μ”μ²­μ Content-Type λ―Έλ””μ–΄ νƒ€μ…μ„ μ§€μ›ν•λ”κ°€.
  - μ) text/plain , application/json , _/_
- canRead() μ΅°κ±΄μ„ λ§μ΅±ν•λ©΄ read() λ¥Ό νΈμ¶ν•΄μ„ κ°μ²΄ μƒμ„±ν•κ³ , λ°ν™ν•λ‹¤.

#### HTTP μ‘λ‹µ λ°μ΄ν„° μƒμ„±

- μ»¨νΈλ΅¤λ¬μ—μ„ @ResponseBody , HttpEntity λ΅ κ°’μ΄ λ°ν™λλ‹¤.
- λ©”μ‹μ§€ μ»¨λ²„ν„°κ°€ λ©”μ‹μ§€λ¥Ό μ“Έ μ μλ”μ§€ ν™•μΈν•κΈ° μ„ν•΄ canWrite() λ¥Ό νΈμ¶ν•λ‹¤.
- λ€μƒ ν΄λμ¤ νƒ€μ…μ„ μ§€μ›ν•λ”κ°€.
  - μ) returnμ λ€μƒ ν΄λμ¤ ( byte[] , String , HelloData )
- HTTP μ”μ²­μ Accept λ―Έλ””μ–΄ νƒ€μ…μ„ μ§€μ›ν•λ”κ°€.(λ” μ •ν™•νλ” @RequestMapping μ produces )
  - μ) text/plain , application/json , _/_
- canWrite() μ΅°κ±΄μ„ λ§μ΅±ν•λ©΄ write() λ¥Ό νΈμ¶ν•΄μ„ HTTP μ‘λ‹µ λ©”μ‹μ§€ λ°”λ””μ— λ°μ΄ν„°λ¥Ό μƒμ„±ν•λ‹¤.

### 58. μ”μ²­ λ§¤ν•‘ ν—¨λ“¤λ¬ μ–΄λν„° κµ¬μ΅°

#### RequestMappingHandlerAdapter λ™μ‘ λ°©μ‹

- μƒκ°ν•΄λ³΄λ©΄, μ• λ…Έν…μ΄μ… κΈ°λ°μ μ»¨νΈλ΅¤λ¬λ” λ§¤μ° λ‹¤μ–‘ν• νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•  μ μμ—λ‹¤.
- HttpServletRequest , Model μ€ λ¬Όλ΅ μ΄κ³ , @RequestParam , @ModelAttribute κ°™μ€ μ• λ…Έν…μ΄μ… κ·Έλ¦¬κ³  @RequestBody , HttpEntity κ°™μ€ HTTP λ©”μ‹μ§€λ¥Ό μ²λ¦¬ν•λ” λ¶€λ¶„κΉμ§€ λ§¤μ° ν° μ μ—°ν•¨μ„ λ³΄μ—¬μ£Όμ—λ‹¤.
- μ΄λ ‡κ² νλΌλ―Έν„°λ¥Ό μ μ—°ν•κ² μ²λ¦¬ν•  μ μλ” μ΄μ κ°€ λ°”λ΅ `ArgumentResolver` λ•λ¶„μ΄λ‹¤.
- μ• λ…Έν…μ΄μ… κΈ°λ° μ»¨νΈλ΅¤λ¬λ¥Ό μ²λ¦¬ν•λ” RequestMappingHandlerAdapter λ” λ°”λ΅ μ΄ ArgumentResolver λ¥Ό νΈμ¶ν•΄μ„ μ»¨νΈλ΅¤λ¬(ν•Έλ“¤λ¬)κ°€ ν•„μ”λ΅ ν•λ” λ‹¤μ–‘ν• νλΌλ―Έν„°μ κ°’(κ°μ²΄)μ„ μƒμ„±ν•λ‹¤. κ·Έλ¦¬κ³  μ΄λ ‡κ² νλ¦¬λ―Έν„°μ κ°’μ΄ λ¨λ‘ μ¤€λΉ„λλ©΄ μ»¨νΈλ΅¤λ¬λ¥Ό νΈμ¶ν•λ©΄μ„ κ°’μ„ λ„κ²¨μ¤€λ‹¤.

- μ¤ν”„λ§μ€ 30κ°κ°€ λ„λ” ArgumentResolver λ¥Ό κΈ°λ³ΈμΌλ΅ μ κ³µν•λ‹¤.

1. ArgumentResolver μ supportsParameter() λ¥Ό νΈμ¶ν•΄μ„ ν•΄λ‹Ή νλΌλ―Έν„°λ¥Ό μ§€μ›ν•λ”μ§€ μ²΄ν¬ν•κ³ ,
2. μ§€μ›ν•λ©΄ resolveArgument() λ¥Ό νΈμ¶ν•΄μ„ μ‹¤μ  κ°μ²΄λ¥Ό μƒμ„±ν•λ‹¤.
3. κ·Έλ¦¬κ³  μ΄λ ‡κ² μƒμ„±λ κ°μ²΄κ°€ μ»¨νΈλ΅¤λ¬ νΈμ¶μ‹ λ„μ–΄κ°€λ” κ²ƒμ΄λ‹¤.

- κ·Έλ¦¬κ³  μ›ν•λ‹¤λ©΄ μ—¬λ¬λ¶„μ΄ μ§μ ‘ μ΄ μΈν„°νμ΄μ¤λ¥Ό ν™•μ¥ν•΄μ„ μ›ν•λ” ArgumentResolver λ¥Ό λ§λ“¤ μλ„ μλ‹¤. μ‹¤μ  ν™•μ¥ν•λ” μμ λ” ν–¥ν›„ λ΅κ·ΈμΈ μ²λ¦¬μ—μ„ μ§„ν–‰ν•κ² λ‹¤.

- HandlerMethodReturnValueHandler λ¥Ό μ¤„μ—¬μ„ ReturnValueHandler λΌ λ¶€λ¥Έλ‹¤.

  - ArgumentResolver μ™€ λΉ„μ·ν•λ°, μ΄κ²ƒμ€ μ‘λ‹µ κ°’μ„ λ³€ν™ν•κ³  μ²λ¦¬ν•λ‹¤.
  - μ»¨νΈλ΅¤λ¬μ—μ„ StringμΌλ΅ λ·° μ΄λ¦„μ„ λ°ν™ν•΄λ„, λ™μ‘ν•λ” μ΄μ κ°€ λ°”λ΅ ReturnValueHandler λ•λ¶„μ΄λ‹¤.

- μ¤ν”„λ§μ€ 10μ—¬κ°κ°€ λ„λ” ReturnValueHandler λ¥Ό μ§€μ›ν•λ‹¤.
  - μ) ModelAndView , @ResponseBody , HttpEntity , String

#### HTTP λ©”μ‹μ§€ μ»¨λ²„ν„°λ” μ–΄λ””μ―¤ μμ„κΉ?

- HTTP λ©”μ‹μ§€ μ»¨λ²„ν„°λ¥Ό μ‚¬μ©ν•λ” @RequestBody λ„ μ»¨νΈλ΅¤λ¬κ°€ ν•„μ”λ΅ ν•λ” νλΌλ―Έν„°μ κ°’μ— μ‚¬μ©λλ‹¤.
- @ResponseBody μ κ²½μ°λ„ μ»¨νΈλ΅¤λ¬μ λ°ν™ κ°’μ„ μ΄μ©ν•λ‹¤.

- μ”μ²­μ κ²½μ° @RequestBody λ¥Ό μ²λ¦¬ν•λ” ArgumentResolver κ°€ μκ³ , HttpEntity λ¥Ό μ²λ¦¬ν•λ” ArgumentResolver κ°€ μλ‹¤.

  - μ΄ ArgumentResolver λ“¤μ΄ HTTP λ©”μ‹μ§€ μ»¨λ²„ν„°λ¥Ό μ‚¬μ©ν•΄μ„ ν•„μ”ν• κ°μ²΄λ¥Ό μƒμ„±ν•λ” κ²ƒμ΄λ‹¤. (μ–΄λ–¤ μΆ…λ¥κ°€ μλ”μ§€ μ½”λ“λ΅ μ‚΄μ§ ν™•μΈν•΄λ³΄μ)

- μ‘λ‹µμ κ²½μ° @ResponseBody μ™€ HttpEntity λ¥Ό μ²λ¦¬ν•λ” ReturnValueHandler κ°€ μλ‹¤.

  - κ·Έλ¦¬κ³  μ—¬κΈ°μ—μ„ HTTP λ©”μ‹μ§€ μ»¨λ²„ν„°λ¥Ό νΈμ¶ν•΄μ„ μ‘λ‹µ κ²°κ³Όλ¥Ό λ§λ“ λ‹¤.

- μ¤ν”„λ§ MVCλ” @RequestBody @ResponseBody κ°€ μμΌλ©΄ RequestResponseBodyMethodProcessor(ArgumentResolver, ReturnValueHandler)
- HttpEntity κ°€ μμΌλ©΄ HttpEntityMethodProcessor(ArgumentResolver, ReturnValueHandler) λ¥Ό μ‚¬μ©ν•λ‹¤.

- ν™•μ¥
  - μ¤ν”„λ§μ€ λ‹¤μμ„ λ¨λ‘ μΈν„°νμ΄μ¤λ΅ μ κ³µν•λ‹¤. λ”°λΌμ„ ν•„μ”ν•λ©΄ μ–Έμ λ“ μ§€ κΈ°λ¥μ„ ν™•μ¥ν•  μ μλ‹¤.
  - HandlerMethodArgumentResolver
  - HandlerMethodReturnValueHandler
  - HttpMessageConverter
  - κΈ°λ¥ ν™•μ¥μ€ WebMvcConfigurer λ¥Ό μƒμ† λ°›μ•„μ„ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•λ©΄ λλ‹¤.
  - μ¤ν”„λ§μ΄ ν•„μ”ν• λ€λ¶€λ¶„μ κΈ°λ¥μ„ μ κ³µν•κΈ° λ•λ¬Έμ— μ‹¤μ  κΈ°λ¥μ„ ν™•μ¥ν•  μΌμ΄ λ§μ§€λ” μ•λ‹¤.

#### μ¤ν”„λ§ MVC μ”μ²­ μ²λ¦¬ μ „μ²΄ λΌμ΄ν”„μ‚¬μ΄ν΄ π€

μ‚¬μ©μκ°€ HTTP μ”μ²­μ„ λ³΄λƒμ„ λ•λ¶€ν„° μ‘λ‹µμ„ λ°›κΈ°κΉμ§€, μ¤ν”„λ§ λ‚΄λ¶€μ—μ„λ” λ‹¤μκ³Ό κ°™μ€ μΌλ“¤μ΄ μμ„λ€λ΅ μΌμ–΄λ‚©λ‹λ‹¤.

1. μ”μ²­ μ ‘μ: DispatcherServlet
   λ¨λ“  μ”μ²­μ€ κ°€μ¥ λ¨Όμ € ν”„λ΅ νΈ μ»¨νΈλ΅¤λ¬μΈ DispatcherServletμ— λ„μ°©ν•©λ‹λ‹¤. DispatcherServletμ€ μ „μ²΄ νλ¦„μ„ μ΅°μ¨ν•λ” μ§€νμ μ—­ν• μ„ ν•©λ‹λ‹¤.
2. ν•Έλ“¤λ¬ νƒμƒ‰: HandlerMapping
   DispatcherServletμ€ λ“±λ΅λ HandlerMapping(μ£Όλ΅ RequestMappingHandlerMapping)μ—κ² "μ΄ μ”μ²­μ„ μ²λ¦¬ν•  ν•Έλ“¤λ¬(μ»¨νΈλ΅¤λ¬ λ©”μ„λ“)κ°€ λ„κµ¬μ•Ό?"λΌκ³  λ¬Όμ–΄λ΄…λ‹λ‹¤.HandlerMappingμ€ @RequestMapping λ“±μ μ–΄λ…Έν…μ΄μ… μ •λ³΄λ¥Ό λ°”νƒ•μΌλ΅ μ”μ²­μ„ μ²λ¦¬ν•  μ μ ν• μ»¨νΈλ΅¤λ¬ λ©”μ„λ“λ¥Ό μ°Ύμ•„ HandlerMethod κ°μ²΄λ΅ ν¬μ¥ν•μ—¬ λ°ν™ν•©λ‹λ‹¤.
3. ν•Έλ“¤λ¬ μ–΄λ‘ν„° μ„ νƒ: HandlerAdapter
   DispatcherServletμ€ μ°Ύμ•„λ‚Έ HandlerMethodλ¥Ό μ‹¤ν–‰ν•  μ μλ” HandlerAdapter(μ£Όλ΅ RequestMappingHandlerAdapter)λ¥Ό μ„ νƒν•©λ‹λ‹¤.
4. μΈμ(Argument) μ²λ¦¬: HandlerMethodArgumentResolver
   RequestMappingHandlerAdapterλ” μ»¨νΈλ΅¤λ¬ λ©”μ„λ“λ¥Ό νΈμ¶ν•κΈ° μ „μ—, λ©”μ„λ“κ°€ ν•„μ”λ΅ ν•λ” νλΌλ―Έν„°λ“¤μ„ μ¤€λΉ„ν•΄μ•Ό ν•©λ‹λ‹¤.
   μ΄λ• **HandlerMethodArgumentResolver**κ°€ λ™μ‘ν•©λ‹λ‹¤.
   λ©”μ„λ“ νλΌλ―Έν„°μ— **@RequestBody**κ°€ μμΌλ©΄, RequestResponseBodyMethodProcessorλΌλ” ArgumentResolverκ°€ μ„ νƒλ©λ‹λ‹¤.
   μ΄ ArgumentResolverλ” HttpMessageConverter(MappingJackson2HttpMessageConverter λ“±)λ¥Ό μ‚¬μ©ν•΄ μ”μ²­ λ³Έλ¬Έμ JSON λ°μ΄ν„°λ¥Ό νλΌλ―Έν„° κ°μ²΄(HelloData)λ΅ λ³€ν™ν•©λ‹λ‹¤.
   @RequestParam, Model λ“± λ‹¤λ¥Έ νλΌλ―Έν„°λ“¤λ„ κ°κ°μ— λ§λ” ArgumentResolverκ°€ μ²λ¦¬ν•©λ‹λ‹¤.

5. μ»¨νΈλ΅¤λ¬ λ©”μ„λ“ νΈμ¶
   λ¨λ“  νλΌλ―Έν„°κ°€ μ¤€λΉ„λλ©΄, RequestMappingHandlerAdapterλ” μ¤€λΉ„λ κ°’λ“¤μ„ κ°€μ§€κ³  μ‹¤μ  μ»¨νΈλ΅¤λ¬ λ©”μ„λ“λ¥Ό νΈμ¶ν•©λ‹λ‹¤.
   μ»¨νΈλ΅¤λ¬λ” λΉ„μ¦λ‹μ¤ λ΅μ§μ„ μν–‰ν•κ³  κ²°κ³Ό κ°’(String, ModelAndView, κ°μ²΄ λ“±)μ„ λ°ν™ν•©λ‹λ‹¤.

6. λ°ν™ κ°’ μ²λ¦¬: HandlerMethodReturnValueHandler
   RequestMappingHandlerAdapterλ” μ»¨νΈλ΅¤λ¬κ°€ λ°ν™ν• κ°’μ„ μ²λ¦¬ν•κΈ° μ„ν•΄ **HandlerMethodReturnValueHandler**λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
   λ©”μ„λ“μ— **@ResponseBody**κ°€ μκ³  κ°μ²΄λ¥Ό λ°ν™ν•λ©΄, RequestResponseBodyMethodProcessorλΌλ” ReturnValueHandlerκ°€ μ„ νƒλ©λ‹λ‹¤.
   μ΄ ReturnValueHandlerλ” HttpMessageConverter(MappingJackson2HttpMessageConverter λ“±)λ¥Ό μ‚¬μ©ν•΄ λ°ν™λ κ°μ²΄λ¥Ό JSON λ¬Έμμ—΄λ΅ λ³€ν™ν•μ—¬ μ‘λ‹µ λ³Έλ¬Έμ— μ§μ ‘ μ¨μ¤λ‹λ‹¤.
   **API μ‘λ‹µμ κ²½μ° μ—¬κΈ°μ„ νλ¦„ μΆ…λ£**
   λ°ν™ κ°’μ΄ **String**μ΄λΌλ©΄ ViewNameMethodReturnValueHandlerκ°€ "λ·° μ΄λ¦„μ΄κµ¬λ‚!"λΌκ³  νλ‹¨ν•κ³  ModelAndView κ°μ²΄μ— λ‹΄μµλ‹λ‹¤.

7. λ·° λ λ”λ§: ViewResolver, View
   ModelAndViewκ°€ λ°ν™λλ©΄, DispatcherServletμ€ **ViewResolver**λ¥Ό νΈμ¶ν•©λ‹λ‹¤.
   ViewResolverλ” "new-form"κ³Ό κ°™μ€ λ…Όλ¦¬ λ·° μ΄λ¦„μ„ /WEB-INF/views/new-form.jspμ™€ κ°™μ€ λ¬Όλ¦¬ κ²½λ΅λ¥Ό κ°€μ§„ View κ°μ²΄λ΅ λ³€ν™ν•©λ‹λ‹¤.
   DispatcherServletμ€ μµμΆ…μ μΌλ΅ View κ°μ²΄μ render() λ©”μ„λ“λ¥Ό νΈμ¶ν•μ—¬ JSPλ‚ Thymeleaf κ°™μ€ ν…ν”λ¦Ώ μ—”μ§„μ„ ν†µν•΄ HTML μ‘λ‹µμ„ μƒμ„±ν•κ³  μ‚¬μ©μμ—κ² λ°ν™ν•©λ‹λ‹¤.

### 59. μ •λ¦¬

## 8. μ¤ν”„λ§ MVC - μ›Ή νμ΄μ§€ λ§λ“¤κΈ°

### 60. ν”„λ΅μ νΈ μƒμ„±

### 61. μ”κµ¬μ‚¬ν•­ λ¶„μ„

### 62. μƒν’ λ„λ©”μΈ κ°λ°

### 63. μƒν’ μ„λΉ„μ¤ HTML

### 64. μƒν’ λ©λ΅ - νƒ€μ„λ¦¬ν”„

### 65. μƒν’ μƒμ„Έ

### 66. μƒν’ λ“±λ΅ νΌ

### 67. μƒν’ λ“±λ΅ μ²λ¦¬ - @ModelAttribute

### 68. μƒν’ μμ •

### 69. PRG Post/Redirect/Get

### 70. RedirectAttributes

### 71. μ •λ¦¬

## 9. λ‹¤μμΌλ΅
